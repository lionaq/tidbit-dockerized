{% extends 'base.html' %}

{% block content%}
<style>
    .postText{
        color: #000;
        text-align: left;
        font-family: Dosis;
        font-size: 17px;
        font-style: normal;
        font-weight: 700;
        line-height: normal;
        letter-spacing: 0.75px;
    }
    .textFieldBorder{
        border-radius: 10px; border: 1px solid #D9D9D9;
    }

    *{
        font-family:dosis;
    }
</style>
    <div class = "container-md my-4 p-4" style = "border-radius: 10px; border: 1px solid rgba(0, 0, 0, 0.20); background: #FFF;">
        <form method="POST" novalidate enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <div class = "container p-4">
                <p style = "text-align: left; font-family: Dosis; font-size: 30px;  font-weight: bold; letter-spacing: 1.5px;">New Post</p>
                <div class = "row">
                    <div class ="col">
                        <br>{{ form.content }}<br>
                        <!-- Add this inside the form element -->
                        <div class="form-group">
                            <label for="filePreview">File Preview:</label>
                            <img id="filePreview" src="" alt="File Preview" class="img-thumbnail" style="max-width: 200px; max-height: 200px;">
                        </div>
                        <br>
                        {{ form.title(class="form-control my-4", style = "textFieldBorder", placeholder = "Title") }}
                        {{ form.title(class="form-control my-4 fs-4", style = "textFieldBorder", placeholder = "Add Title", style = "font-weight: 600;") }}
                        {{ form.caption(class="form-control my-4", style = "textFieldBorder", rows="5", placeholder = "A little something about your post") }}

                        <div class="form-row">
                            {% for subfield in form.tag %}
                              <div class="form-check form-check-inline col">
                                <input class="form-check-input" type="checkbox" id="{{ subfield.id }}" value="{{ subfield.data }}" name="{{ subfield.name }}">
                                <label class="form-check-label" for="{{ subfield.id }}">{{ subfield.label.text }}</label>
                              </div>
                            {% endfor %}
                          </div>
                    </div>
                    <div class = "col ps-5">
                        <p class = "postText">Ingredients:</p>{{ form.ingredients(class="form-control my-4", rows="5", style = "textFieldBorder", placeholder = "List the ingredients here") }}
                        <p class = "postText">Instructions:</p>{{ form.instructions(class="form-control my-4", rows="10", style = "textFieldBorder", placeholder = "Write the steps for your recipe here") }}
                    </div>
                </div>

                <div class = "d-flex flex-row-reverse mt-2">
                    <a class = "btn  rounded-pill ms-3 fw-bold" style="background-color: rgba(210, 122, 94, 0.15); color: black;" href = "login">Cancel</a>
                    {{ form.submit(class="btn rounded-pill fw-bold", style="background-color: rgba(210, 122, 94, 0.15); color: black;") }}
                </div>

            </div>
        </form>
    </div>


    <script>
        document.getElementById("content").addEventListener("change", function (event) {
            var input = event.target;
            var reader = new FileReader();
    
            reader.onload = function () {
                var img = document.getElementById("filePreview");
                img.src = reader.result;
            };
    
            reader.readAsDataURL(input.files[0]);
        });
    </script>
    
{% endblock %}